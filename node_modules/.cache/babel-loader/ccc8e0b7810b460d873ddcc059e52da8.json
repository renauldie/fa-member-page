{"ast":null,"code":"var _jsxFileName = \"/Users/muhammadrenauldi/Development/fa/frontend/memberpage/src/parts/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport users from 'constants/api/users';\nimport { setAuthorizationHeader } from 'configs/axios';\nimport { populateProfile } from 'store/actions/users';\nimport useForm from 'helpers/hooks/useForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm({\n  history\n}) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [{\n    u,\n    p\n  }, setState] = useForm({\n    u: '',\n    p: ''\n  });\n\n  function submit(e) {\n    e.preventDefault();\n    users.login({\n      u,\n      p\n    }).then(res => {\n      setAuthorizationHeader(res.data.token);\n      users.details().then(detail => {\n        dispatch(populateProfile(detail.data));\n        const production = process.env.REACT_APP_FRONTPAGE_URL === 'https://localhost:3005' ? 'Domain = localhost:3005' : '';\n        localStorage.setItem('FA:token', JSON.stringify({ ...res.data,\n          u: u\n        }));\n        const redirect = localStorage.getItem('FA:redirect');\n        const userCookie = {\n          name: detail.data.name,\n          thumbnail: detail.data.avatar\n        };\n        const expires = new Date(new Date().getTime() + 1 * 24 * 60 * 60 * 1000 // new Date().getTime() + 10 * 60 * 1000\n        );\n        document.cookie = `FA:user=${JSON.stringify(userCookie)}; expires=${expires.toUTCString()}; path:/; ${production}`;\n        history.push(redirect || '/');\n      });\n    }).catch(err => {});\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center pb-24\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full sm:w-1/3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl text-gray-900 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }, this), \" Study, \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 57\n        }, this), \"Finish your \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: \"Goals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"u\",\n            className: \"text-lg mb-2\",\n            children: \"NPM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"u\",\n            type: \"name\",\n            onChange: setState,\n            className: \"bg-white focus:outline-none border w-full px-6 py-3 border-gray-600 focus:border-blue-700 rounded-md\",\n            value: u,\n            placeholder: \"Your NPM\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"p\",\n            className: \"text-lg mb-2\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"p\",\n            type: \"password\",\n            onChange: setState,\n            className: \"bg-white focus:outline-none border w-full px-6 py-3 border-gray-600 focus:border-blue-700 rounded-md\",\n            value: p,\n            placeholder: \"Your password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-blue-700 hover:bg-blue-600 transition-all duration-200 focus:outline-none shadow-inner text-white px-6 py-3 mt-4 w-full\",\n          children: \"Masuk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-1/12 hidden sm:block\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-5/12 hidden sm:block justify-end pt-24 pr-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        style: {\n          width: 369,\n          height: 440\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute w-full h-full -mb-8 -ml-8\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"#\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute z-10 bg-white bottom-0 right-0 py-3 px-4 -mr-12\",\n          style: {\n            width: 290\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-900 mb-2\",\n            children: \"Tidak perlu registrasi. Cukup pakai akun mahasiswa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"~ IT Support Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LoginForm, \"11/rqNqKBVbQXQmcsB2Hm6nCAMM=\", false, function () {\n  return [useDispatch, useForm];\n});\n\n_c = LoginForm;\nexport default _c2 = withRouter(LoginForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/muhammadrenauldi/Development/fa/frontend/memberpage/src/parts/LoginForm.js"],"names":["React","withRouter","useDispatch","users","setAuthorizationHeader","populateProfile","useForm","LoginForm","history","dispatch","u","p","setState","submit","e","preventDefault","login","then","res","data","token","details","detail","production","process","env","REACT_APP_FRONTPAGE_URL","localStorage","setItem","JSON","stringify","redirect","getItem","userCookie","name","thumbnail","avatar","expires","Date","getTime","document","cookie","toUTCString","push","catch","err","width","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport users from 'constants/api/users';\n\nimport { setAuthorizationHeader } from 'configs/axios';\n\nimport { populateProfile } from 'store/actions/users';\n\nimport useForm from 'helpers/hooks/useForm';\n\nfunction LoginForm({ history }) {\n\tconst dispatch = useDispatch();\n\n\tconst [{ u, p }, setState] = useForm({\n\t\tu: '',\n\t\tp: '',\n\t});\n\n\tfunction submit(e) {\n\t\te.preventDefault();\n\n\t\tusers\n\t\t\t.login({ u, p })\n\t\t\t.then((res) => {\n\t\t\t\tsetAuthorizationHeader(res.data.token);\n\t\t\t\tusers.details().then((detail) => {\n\t\t\t\t\tdispatch(populateProfile(detail.data));\n\t\t\t\t\tconst production =\n\t\t\t\t\t\tprocess.env.REACT_APP_FRONTPAGE_URL === 'https://localhost:3005'\n\t\t\t\t\t\t\t? 'Domain = localhost:3005'\n\t\t\t\t\t\t\t: '';\n\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t'FA:token',\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t...res.data,\n\t\t\t\t\t\t\tu: u,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tconst redirect = localStorage.getItem('FA:redirect');\n\t\t\t\t\tconst userCookie = {\n\t\t\t\t\t\tname: detail.data.name,\n\t\t\t\t\t\tthumbnail: detail.data.avatar,\n\t\t\t\t\t};\n\n\t\t\t\t\tconst expires = new Date(\n\t\t\t\t\t\tnew Date().getTime() + 1 * 24 * 60 * 60 * 1000\n\t\t\t\t\t\t// new Date().getTime() + 10 * 60 * 1000\n\t\t\t\t\t);\n\n\t\t\t\t\tdocument.cookie = `FA:user=${JSON.stringify(\n\t\t\t\t\t\tuserCookie\n\t\t\t\t\t)}; expires=${expires.toUTCString()}; path:/; ${production}`;\n\n\t\t\t\t\thistory.push(redirect || '/');\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {});\n\t}\n\n\treturn (\n\t\t<div className='flex justify-center items-center pb-24'>\n\t\t\t<div className='w-full sm:w-1/3'>\n\t\t\t\t<h1 className='text-4xl text-gray-900 mb-6'>\n\t\t\t\t\t<span className='font-bold'>Continue</span> Study, <br />\n\t\t\t\t\tFinish your <span className='font-bold'>Goals</span>\n\t\t\t\t</h1>\n\t\t\t\t<form onSubmit={submit}>\n\t\t\t\t\t<div className='flex flex-col mb-4'>\n\t\t\t\t\t\t<label htmlFor='u' className='text-lg mb-2'>\n\t\t\t\t\t\t\tNPM\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname='u'\n\t\t\t\t\t\t\ttype='name'\n\t\t\t\t\t\t\tonChange={setState}\n\t\t\t\t\t\t\tclassName='bg-white focus:outline-none border w-full px-6 py-3 border-gray-600 focus:border-blue-700 rounded-md'\n\t\t\t\t\t\t\tvalue={u}\n\t\t\t\t\t\t\tplaceholder='Your NPM'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='flex flex-col mb-4'>\n\t\t\t\t\t\t<label htmlFor='p' className='text-lg mb-2'>\n\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname='p'\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tonChange={setState}\n\t\t\t\t\t\t\tclassName='bg-white focus:outline-none border w-full px-6 py-3 border-gray-600 focus:border-blue-700 rounded-md'\n\t\t\t\t\t\t\tvalue={p}\n\t\t\t\t\t\t\tplaceholder='Your password'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName='bg-blue-700 hover:bg-blue-600 transition-all duration-200 focus:outline-none shadow-inner text-white px-6 py-3 mt-4 w-full'>\n\t\t\t\t\t\tMasuk\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div className='w-1/12 hidden sm:block'></div>\n\n\t\t\t<div className='w-5/12 hidden sm:block justify-end pt-24 pr-16'>\n\t\t\t\t<div className='relative' style={{ width: 369, height: 440 }}>\n\t\t\t\t\t<div className='absolute w-full h-full -mb-8 -ml-8'>\n\t\t\t\t\t\t<img src='#' alt='' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='absolute z-10 bg-white bottom-0 right-0 py-3 px-4 -mr-12'\n\t\t\t\t\t\tstyle={{ width: 290 }}>\n\t\t\t\t\t\t<p className='text-gray-900 mb-2'>\n\t\t\t\t\t\t\tTidak perlu registrasi. Cukup pakai akun mahasiswa\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<span className='text-gray-600'>~ IT Support Team</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(LoginForm);\n"]},"metadata":{},"sourceType":"module"}