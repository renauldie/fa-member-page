{"ast":null,"code":"import _slicedToArray from\"/Users/muhammadrenauldi/Development/fa/frontend/memberpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{toast}from'react-toastify';import offered from'constants/api/offered';import Loading from'parts/Loading';import Sidebar from'parts/Sidebar';import useForm from'helpers/hooks/useForm';import Select from'components/Form/Select';import{statusOffered,fetchOffered,messageOffered}from'store/actions/offeredCourse';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function OfferedCourse(_ref){var _Object$values,_Object$values$map;var history=_ref.history;var dispatch=useDispatch();var OFFERED=useSelector(function(state){return state.offered;});useEffect(function(){window.scroll(0,0);dispatch(statusOffered('loading'));offered.getData(localStorage.getItem('code')).then(function(res){console.log(res);dispatch(fetchOffered(res.data));}).catch(function(err){var _err$response$data$me,_err$response,_err$response$data;dispatch(messageOffered((_err$response$data$me=err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)!==null&&_err$response$data$me!==void 0?_err$response$data$me:'error'));});},[dispatch]);var _useForm=useForm({offered_course_id:''}),_useForm2=_slicedToArray(_useForm,3),offered_course_id=_useForm2[0].offered_course_id,setState=_useForm2[1],state=_useForm2[2];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],seterrors=_useState2[1];function submit(e){e.preventDefault();offered.joinCourse({offered_course_id:offered_course_id}).then(function(res){toast.success('Course choosen');console.log(res);history.push('/open-recruitment');}).catch(function(err){var _err$response2,_err$response2$data;seterrors(err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message);});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 sm:px-16\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col mt-8 pl-12 sm:pl-0\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl sm:text-4xl text-gray-900 font-medium\",children:[\"Open Recruitment\",console.log('object')]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm sm:text-lg text-gray-600\",children:\"Choose what you're good at\"}),OFFERED.status==='loading'&&/*#__PURE__*/_jsx(Loading,{}),OFFERED.status==='error'&&OFFERED.message,OFFERED.status==='ok'&&/*#__PURE__*/_jsx(\"section\",{className:\"flex flex-col mt-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center pb-24\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-4/6 xl:w-5/12 sm:w-6/12\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(Select,{labelName:\"Choose Your Course\",name:\"offered_course_id\",value:offered_course_id,fallbackText:\"Select your focus\",onClick:setState,children:(_Object$values=Object.values(OFFERED.data))===null||_Object$values===void 0?void 0:(_Object$values$map=_Object$values.map)===null||_Object$values$map===void 0?void 0:_Object$values$map.call(_Object$values,function(item,index){return/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.course.name},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\"// className='h-10 bg-blue-800 hover:bg-blue-700 transition-all duration-200 focus:outline-none shadow-inner text-white py-2 rounded-md'>\n,className:\"bg-blue-700 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded transition-all duration-200 ocus:outline-none shadow-inner\",children:\"Choose!\"})})]})})})})]})})})]})});}","map":{"version":3,"sources":["/Users/muhammadrenauldi/Development/fa/frontend/memberpage/src/pages/OfferedCourse.js"],"names":["React","useEffect","useState","useDispatch","useSelector","toast","offered","Loading","Sidebar","useForm","Select","statusOffered","fetchOffered","messageOffered","OfferedCourse","history","dispatch","OFFERED","state","window","scroll","getData","localStorage","getItem","then","res","console","log","data","catch","err","response","message","offered_course_id","setState","errors","seterrors","submit","e","preventDefault","joinCourse","success","push","status","Object","values","map","item","index","id","course","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { toast } from 'react-toastify';\n\nimport offered from 'constants/api/offered';\n\nimport Loading from 'parts/Loading';\nimport Sidebar from 'parts/Sidebar';\n\nimport useForm from 'helpers/hooks/useForm';\n\nimport Select from 'components/Form/Select';\n\nimport {\n\tstatusOffered,\n\tfetchOffered,\n\tmessageOffered,\n} from 'store/actions/offeredCourse';\n\nexport default function OfferedCourse({ history }) {\n\tconst dispatch = useDispatch();\n\tconst OFFERED = useSelector((state) => state.offered);\n\n\tuseEffect(() => {\n\t\twindow.scroll(0, 0);\n\t\tdispatch(statusOffered('loading'));\n\t\toffered\n\t\t\t.getData(localStorage.getItem('code'))\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tdispatch(fetchOffered(res.data));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch(messageOffered(err?.response?.data?.message ?? 'error'));\n\t\t\t});\n\t}, [dispatch]);\n\n\tconst [{ offered_course_id }, setState, state] = useForm({\n\t\toffered_course_id: '',\n\t});\n\n\tconst [errors, seterrors] = useState(null);\n\n\tfunction submit(e) {\n\t\te.preventDefault();\n\n\t\toffered\n\t\t\t.joinCourse({ offered_course_id })\n\t\t\t.then((res) => {\n\t\t\t\ttoast.success('Course choosen');\n\t\t\t\tconsole.log(res);\n\t\t\t\thistory.push('/open-recruitment');\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tseterrors(err?.response?.data?.message);\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className='flex'>\n\t\t\t\t<Sidebar></Sidebar>\n\t\t\t\t<main className='flex-1'>\n\t\t\t\t\t<div className='px-4 sm:px-16'>\n\t\t\t\t\t\t<section className='flex flex-col mt-8 pl-12 sm:pl-0'>\n\t\t\t\t\t\t\t<h1 className='text-xl sm:text-4xl text-gray-900 font-medium'>\n\t\t\t\t\t\t\t\tOpen Recruitment\n\t\t\t\t\t\t\t\t{console.log('object')}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className='text-sm sm:text-lg text-gray-600'>\n\t\t\t\t\t\t\t\tChoose what you're good at\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{OFFERED.status === 'loading' && <Loading></Loading>}\n\t\t\t\t\t\t\t{OFFERED.status === 'error' && OFFERED.message}\n\t\t\t\t\t\t\t{OFFERED.status === 'ok' && (\n\t\t\t\t\t\t\t\t<section className='flex flex-col mt-8'>\n\t\t\t\t\t\t\t\t\t<div className='flex items-center pb-24'>\n\t\t\t\t\t\t\t\t\t\t<div className='w-full md:w-4/6 xl:w-5/12 sm:w-6/12'>\n\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={submit}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelName='Choose Your Course'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='offered_course_id'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={offered_course_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfallbackText='Select your focus'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={setState}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{Object.values(OFFERED.data)?.map?.((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={item.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.course.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='flex'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// className='h-10 bg-blue-800 hover:bg-blue-700 transition-all duration-200 focus:outline-none shadow-inner text-white py-2 rounded-md'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bg-blue-700 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded transition-all duration-200 ocus:outline-none shadow-inner'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChoose!\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}